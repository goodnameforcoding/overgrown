<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Overgrown</title>
	<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <link rel="stylesheet" href="css/main.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">

 <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">


</head>

<body>
  <script src="js/client.js"></script>
  <v-app  id="app"  position="relative">
  	<v-card    flat :style="mainStyle" >
	 		<v-card-text>
		  	<v-row>
		  		<v-col cols="8">
				  	<v-card flat :style="insideBoxStyle" v-if="scene">
				  		<v-card-text>
				  			<div style="position: relative;">
  							  <video controls @DurationChange="onVideoLoad" left = 0 right = 0 top = 0 bottom = 0  ref="video" style="max-height: 500px; margin-top:100px" autoplay :src="url"></video>
								  <SVG viewbox="0 0 1000 1000" style="position:absolute; top: 0; left: 0; right: 0; bottom: 0;">
								  	<line :x1="offset" y1="0" :x2="offset" y2="100" :stroke="staffColor" stroke-width="2px"></line>
								  	<line :x1="offset" y1="50" x2="1000" y2="50" :stroke="staffColor" stroke-width="3px"></line>
								  	<g  v-for="tick in ticks">
							  			<line :x1="offset + (tick.t - t) * speed" :x2="offset + (tick.t - t) * speed" :y1="50 - tick.size / 2" :y2="50 + tick.size / 2"  fill="none" :stroke="strokeColor" :stroke-width="tick.stroke"></line>
							  		</g>

								  	<g  v-for="note in notes">
							  			<CIRCLE :cx=" startPhase + offset + (note.t - t) * speed" :cy="50"  fill="none" stroke="white" stroke-width="3px" :r="12"></CIRCLE>
							  			<CIRCLE :cx="offset + (note.t - t) * speed" :cy="50"  :fill="note.success? 'green' : 'pink'" stroke=none  :r="5"></CIRCLE>
							  		</g>
							  		<g v-for="bling in blings">
							  		</g>
						  		</SVG>
						  	</div>
							</v-card-text>
							<v-card-actions>
								<v-row>
									<v-btn v-for="decision in decisions" @click="makeDecision(decision)">{{decision.text}}</v-btn>
								</v-row>
						</v-card>
					</v-col>
					<v-col cols="4">
						<v-card>l
							<v-card-text>
								<v-col cols="12" v-for="character in characters">
									<v-dialog  
							      transition="slide-x-reverse-transition"
							      class="characterSheet"
							      >
							      <template v-slot:activator="{ on, attrs }">
							        <v-btn
							          color="primary"
							          dark
							          block
							          v-bind="attrs"
							          v-on="on"
							        >
							          {{character.name}}
							        </v-btn>
							      </template>
							      <v-card>
							      	<v-card-title>{{character.name}}</v-card-title>
							      	<v-card-text>
							      		<v-row>
							      		<v-col cols="10">{{character.description}}</v-col>
							      		<v-col cols="2" v-if="character.portrait">
							      			<v-img :src="character.portrait"
						      			 	></v-img>
							      		</v-col>
								      	</v-row>
								      	<v-row v-if="character.skills && character.skills.length > 0">
									      	<h2 >Skills</h2>
								      		<v-col v-for="skill in character.skills">{{skill}}</v-col>
								      	</v-row>
							      	</v-card-text>
							      </v-card>
									</v-dialog>
								</v-col>
							</v-card-text>
						</v-card>
						<v-card>
							<v-btn @click="saveNotes">Save Notes</v-btn><v-switch v-model="record"></v-switch>
						</v-card>
					</v-col>
				</v-row>
			</v-card-text>
		</v-card>
		</v-app>
	</v-app>

</body>
</html>